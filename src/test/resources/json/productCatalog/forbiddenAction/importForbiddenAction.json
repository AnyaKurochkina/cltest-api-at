{
  "model_name": "ForbiddenAction",
  "ForbiddenAction": {
    "id": 133,
    "context_restrictions": [],
    "event_type_provider": [
      {
        "event_type": "bm",
        "event_provider": "s3"
      }
    ],
    "name": "at_api_import_forbidden_action",
    "title": "at_api_import_forbidden_action",
    "description": "",
    "config_restriction": null,
    "item_restriction": null,
    "environment_type_restriction": [],
    "direction": "parent_to_child",
    "action": "6c37de87-69ad-45d8-91e3-2530da25a9ac"
  },
  "rel_foreign_models": {
    "action": {
      "model_name": "Action",
      "Action": {
        "id": "6c37de87-69ad-45d8-91e3-2530da25a9ac",
        "name": "at_api_import_action_for_forbidden_action",
        "type": "",
        "title": "at_api_import_action_for_forbidden_action",
        "graph_id": "b3340224-3580-4bc2-aa75-5a50b1b258ca",
        "multiple": false,
        "priority": 0,
        "extra_data": {},
        "description": "",
        "allowed_paths": [],
        "graph_version": "",
        "data_config_key": null,
        "data_config_path": null,
        "item_restriction": null,
        "restricted_paths": [],
        "allowed_developers": [],
        "config_restriction": null,
        "data_config_fields": [],
        "skip_on_prebilling": false,
        "location_restriction": "",
        "graph_version_pattern": "",
        "restricted_developers": [],
        "required_item_statuses": [
          "on"
        ],
        "auto_removing_if_failed": false,
        "available_without_money": false,
        "required_order_statuses": [
          "success"
        ],
        "current_version": "",
        "context_restrictions": [],
        "event_type_provider": [
          {
            "event_type": "vm",
            "event_provider": "vcloud"
          },
          {
            "event_type": "vm",
            "event_provider": "nutanix"
          }
        ],
        "number": 50,
        "is_safe": false,
        "allowed_groups": [],
        "restricted_groups": [],
        "version_arr": [
          1,
          0,
          23
        ],
        "icon_store_id": null,
        "icon_store": null
      },
      "rel_foreign_models": {
        "graph": {
          "model_name": "Graph",
          "Graph": {
            "author": "AT API",
            "output": {},
            "ui_schema": null,
            "json_schema": null,
            "static_data": {
              "rrtype": [
                "A",
                "PTR"
              ],
              "product_type": "vm",
              "resolved_item": true
            },
            "modifications": [],
            "printed_output": {},
            "lock_order_on_error": false,
            "damage_order_on_error": false,
            "current_version": "",
            "name": "at_api_import_graph_for_action",
            "title": "at_api_import_graph_for_action",
            "description": "",
            "type": "action",
            "allowed_developers": [],
            "restricted_developers": [],
            "version_arr": [
              1,
              0,
              11
            ]
          },
          "rel_foreign_models": {},
          "rel_revers_models": {
            "nodes": [
              {
                "model_name": "Node",
                "Node": {
                  "hold": false,
                  "name": "turn_off_monitoring",
                  "color": "",
                  "count": null,
                  "input": {
                    "domain": "resolved_item['data']['config']['domain']",
                    "os_type": "resolved_item['data']['config']['image']['os']['type']",
                    "hostname": "resolved_item['data']['config']['hostname']"
                  },
                  "number": 5,
                  "output": {},
                  "depends": [],
                  "timeout": 60,
                  "coords_x": 0.0,
                  "coords_y": 0.0,
                  "for_each": "",
                  "priority": null,
                  "condition": "resolved_item['data']['config']['image']['os']['distribution'] != 'rhcos'",
                  "log_level": null,
                  "extra_data": null,
                  "description": "\u0443\u0434\u0430\u043b\u044f\u0435\u043c \u0412\u041c \u0438\u0437 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430",
                  "subgraph_id": null,
                  "template_id": 70,
                  "icon_store_id": null,
                  "is_sequential": true,
                  "on_prebilling": false,
                  "printed_output": {},
                  "run_on_rollback": false,
                  "subgraph_version": "",
                  "template_version": "",
                  "lock_order_on_error": false,
                  "not_damage_on_error": false,
                  "damage_order_on_error": false,
                  "subgraph_version_pattern": "",
                  "template_version_pattern": "",
                  "subgraph_version_calculated": "",
                  "template_version_calculated": "1.0.0"
                },
                "rel_foreign_models": {
                  "template": {
                    "model_name": "Template",
                    "Template": {
                      "id": 70,
                      "run": "monitoring:cmd",
                      "name": "delete_host",
                      "type": "monitoring",
                      "color": "",
                      "input": {},
                      "title": "delete_host",
                      "output": {},
                      "timeout": 30,
                      "coords_x": 0.0,
                      "coords_y": 0.0,
                      "priority": 0,
                      "rollback": null,
                      "log_level": null,
                      "extra_data": null,
                      "description": "",
                      "allowed_groups": [],
                      "printed_output": {},
                      "additional_input": true,
                      "additional_output": true,
                      "restricted_groups": [],
                      "log_can_be_overridden": false,
                      "priority_can_be_overridden": false,
                      "printed_output_can_be_overridden": false,
                      "current_version": "",
                      "version_arr": [
                        1,
                        0,
                        0
                      ],
                      "icon_store_id": null,
                      "icon_store": null
                    },
                    "rel_foreign_models": {}
                  }
                }
              },
              {
                "model_name": "Node",
                "Node": {
                  "hold": false,
                  "name": "delete_vm",
                  "color": "",
                  "count": null,
                  "input": {
                    "tenant": "resolved_item['data']['config']['tenant']",
                    "item_id": "item_id",
                    "resource_pool": "resolved_item['data']['config']['resource_pool']"
                  },
                  "number": 10,
                  "output": {},
                  "depends": [
                    "turn_off_monitoring"
                  ],
                  "timeout": 600,
                  "coords_x": 0.0,
                  "coords_y": 0.0,
                  "for_each": "",
                  "priority": null,
                  "condition": "",
                  "log_level": null,
                  "extra_data": null,
                  "description": "\u0443\u0434\u0430\u043b\u044f\u0435\u043c \u0412\u041c",
                  "subgraph_id": null,
                  "template_id": 54,
                  "icon_store_id": null,
                  "is_sequential": false,
                  "on_prebilling": false,
                  "printed_output": {},
                  "run_on_rollback": false,
                  "subgraph_version": "",
                  "template_version": "",
                  "lock_order_on_error": false,
                  "not_damage_on_error": false,
                  "damage_order_on_error": false,
                  "subgraph_version_pattern": "",
                  "template_version_pattern": "",
                  "subgraph_version_calculated": "",
                  "template_version_calculated": "1.0.0"
                },
                "rel_foreign_models": {
                  "template": {
                    "model_name": "Template",
                    "Template": {
                      "id": 54,
                      "run": "platform:cmd",
                      "name": "delete_vm",
                      "type": "virtualization_platform",
                      "color": "",
                      "input": {
                        "tenant": {},
                        "item_id": {},
                        "resource_pool": {}
                      },
                      "title": "delete_vm",
                      "output": {},
                      "timeout": 600,
                      "coords_x": 0.0,
                      "coords_y": 0.0,
                      "priority": 0,
                      "rollback": null,
                      "log_level": null,
                      "extra_data": null,
                      "description": "\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0412\u041c",
                      "allowed_groups": [],
                      "printed_output": {},
                      "additional_input": false,
                      "additional_output": false,
                      "restricted_groups": [],
                      "log_can_be_overridden": false,
                      "priority_can_be_overridden": false,
                      "printed_output_can_be_overridden": false,
                      "current_version": "",
                      "version_arr": [
                        1,
                        0,
                        0
                      ],
                      "icon_store_id": null,
                      "icon_store": null
                    },
                    "rel_foreign_models": {}
                  }
                }
              },
              {
                "model_name": "Node",
                "Node": {
                  "hold": false,
                  "name": "mark_vm_deleted",
                  "color": "",
                  "count": null,
                  "input": {
                    "type": "enums.EventType.VM.value",
                    "status": "enums.EventState.DELETED.value",
                    "item_id": "item_id",
                    "subtype": "enums.EventSubType.STATE.value"
                  },
                  "number": 20,
                  "output": {},
                  "depends": [
                    "delete_vm"
                  ],
                  "timeout": 30,
                  "coords_x": 0.0,
                  "coords_y": 0.0,
                  "for_each": "",
                  "priority": null,
                  "condition": "",
                  "log_level": null,
                  "extra_data": null,
                  "description": "\u043f\u043e\u043c\u0435\u0447\u0430\u0435\u043c \u0412\u041c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0439 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439",
                  "subgraph_id": null,
                  "template_id": 45,
                  "icon_store_id": null,
                  "is_sequential": false,
                  "on_prebilling": false,
                  "printed_output": {},
                  "run_on_rollback": false,
                  "subgraph_version": "",
                  "template_version": "",
                  "lock_order_on_error": false,
                  "not_damage_on_error": false,
                  "damage_order_on_error": false,
                  "subgraph_version_pattern": "",
                  "template_version_pattern": "",
                  "subgraph_version_calculated": "",
                  "template_version_calculated": "1.0.1"
                },
                "rel_foreign_models": {
                  "template": {
                    "model_name": "Template",
                    "Template": {
                      "id": 45,
                      "run": "internal",
                      "name": "add_event",
                      "type": "system_nodes",
                      "color": "",
                      "input": {
                        "data": {},
                        "type": {},
                        "status": {},
                        "item_id": {},
                        "subtype": {}
                      },
                      "title": "add_event",
                      "output": {
                        "data": {}
                      },
                      "timeout": 30,
                      "coords_x": 0.0,
                      "coords_y": 0.0,
                      "priority": 0,
                      "rollback": null,
                      "log_level": null,
                      "extra_data": null,
                      "description": "\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 Event \u0432 \u0441\u0435\u0440\u0432\u0438\u0441 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439",
                      "allowed_groups": [],
                      "printed_output": {},
                      "additional_input": true,
                      "additional_output": true,
                      "restricted_groups": [],
                      "log_can_be_overridden": false,
                      "priority_can_be_overridden": false,
                      "printed_output_can_be_overridden": false,
                      "current_version": "",
                      "version_arr": [
                        1,
                        0,
                        1
                      ],
                      "icon_store_id": null,
                      "icon_store": null
                    },
                    "rel_foreign_models": {}
                  }
                }
              },
              {
                "model_name": "Node",
                "Node": {
                  "hold": false,
                  "name": "unreg_dns",
                  "color": "",
                  "count": null,
                  "input": {
                    "ip": "resolved_item['data']['config']['default_v4_address']",
                    "force": "resolved_item['data']['config']['default_nic']['address_assignment'] == 'DHCP'",
                    "domain": "resolved_item['data']['config']['domain']",
                    "rrtype": "rrtype",
                    "hostname": "resolved_item['data']['config']['hostname']"
                  },
                  "number": 30,
                  "output": {},
                  "depends": [
                    "delete_vm"
                  ],
                  "timeout": 30,
                  "coords_x": 0.0,
                  "coords_y": 0.0,
                  "for_each": "",
                  "priority": null,
                  "condition": "",
                  "log_level": null,
                  "extra_data": null,
                  "description": "\u0443\u0434\u0430\u043b\u044f\u0435\u043c DNS \u0437\u0430\u043f\u0438\u0441\u044c \u0412\u041c",
                  "subgraph_id": null,
                  "template_id": 53,
                  "icon_store_id": null,
                  "is_sequential": false,
                  "on_prebilling": false,
                  "printed_output": {},
                  "run_on_rollback": false,
                  "subgraph_version": "",
                  "template_version": "",
                  "lock_order_on_error": false,
                  "not_damage_on_error": false,
                  "damage_order_on_error": false,
                  "subgraph_version_pattern": "",
                  "template_version_pattern": "",
                  "subgraph_version_calculated": "",
                  "template_version_calculated": "1.0.0"
                },
                "rel_foreign_models": {
                  "template": {
                    "model_name": "Template",
                    "Template": {
                      "id": 53,
                      "run": "dns:cmd",
                      "name": "delete_dns",
                      "type": "rpc",
                      "color": "",
                      "input": {
                        "ip": {},
                        "force": {},
                        "domain": {},
                        "rrtype": {},
                        "hostname": {}
                      },
                      "title": "delete_dns",
                      "output": {},
                      "timeout": 30,
                      "coords_x": 0.0,
                      "coords_y": 0.0,
                      "priority": 0,
                      "rollback": null,
                      "log_level": null,
                      "extra_data": null,
                      "description": "\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 DNS \u0437\u0430\u043f\u0438\u0441\u0438",
                      "allowed_groups": [],
                      "printed_output": {},
                      "additional_input": false,
                      "additional_output": false,
                      "restricted_groups": [],
                      "log_can_be_overridden": false,
                      "priority_can_be_overridden": false,
                      "printed_output_can_be_overridden": false,
                      "current_version": "",
                      "version_arr": [
                        1,
                        0,
                        0
                      ],
                      "icon_store_id": null,
                      "icon_store": null
                    },
                    "rel_foreign_models": {}
                  }
                }
              },
              {
                "model_name": "Node",
                "Node": {
                  "hold": false,
                  "name": "delete_computer_from_ad",
                  "color": "",
                  "count": null,
                  "input": {
                    "domain": "resolved_item['data']['config']['domain']",
                    "hostname": "resolved_item['data']['config']['hostname']"
                  },
                  "number": 40,
                  "output": {},
                  "depends": [
                    "delete_vm"
                  ],
                  "timeout": 60,
                  "coords_x": 0.0,
                  "coords_y": 0.0,
                  "for_each": "",
                  "priority": null,
                  "condition": "resolved_item['data']['config']['ad_integration'] is True",
                  "log_level": null,
                  "extra_data": null,
                  "description": "\u0443\u0434\u0430\u043b\u044f\u0435\u043c \u0412\u041c \u0438\u0437 LDAP \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430",
                  "subgraph_id": null,
                  "template_id": 56,
                  "icon_store_id": null,
                  "is_sequential": false,
                  "on_prebilling": false,
                  "printed_output": {},
                  "run_on_rollback": false,
                  "subgraph_version": "",
                  "template_version": "",
                  "lock_order_on_error": false,
                  "not_damage_on_error": false,
                  "damage_order_on_error": false,
                  "subgraph_version_pattern": "",
                  "template_version_pattern": "",
                  "subgraph_version_calculated": "",
                  "template_version_calculated": "1.0.0"
                },
                "rel_foreign_models": {
                  "template": {
                    "model_name": "Template",
                    "Template": {
                      "id": 56,
                      "run": "ldap:cmd",
                      "name": "delete_computer",
                      "type": "rpc",
                      "color": "",
                      "input": {
                        "domain": {},
                        "hostname": {},
                        "net_segment": {}
                      },
                      "title": "delete_computer",
                      "output": {},
                      "timeout": 60,
                      "coords_x": 0.0,
                      "coords_y": 0.0,
                      "priority": 0,
                      "rollback": null,
                      "log_level": null,
                      "extra_data": null,
                      "description": "\u0443\u043f\u0440\u0430\u043b\u0435\u043d\u0438\u0435 LDAP \u0437\u0430\u043f\u0438\u0441\u0438 Computer",
                      "allowed_groups": [],
                      "printed_output": {},
                      "additional_input": true,
                      "additional_output": true,
                      "restricted_groups": [],
                      "log_can_be_overridden": false,
                      "priority_can_be_overridden": false,
                      "printed_output_can_be_overridden": false,
                      "current_version": "",
                      "version_arr": [
                        1,
                        0,
                        0
                      ],
                      "icon_store_id": null,
                      "icon_store": null
                    },
                    "rel_foreign_models": {}
                  }
                }
              },
              {
                "model_name": "Node",
                "Node": {
                  "hold": false,
                  "name": "delete_ipam",
                  "color": "",
                  "count": null,
                  "input": {
                    "config": "resolved_item['data']['config']"
                  },
                  "number": 50,
                  "output": {},
                  "depends": [
                    "unreg_dns"
                  ],
                  "timeout": 60,
                  "coords_x": 0.0,
                  "coords_y": 0.0,
                  "for_each": "",
                  "priority": null,
                  "condition": "",
                  "log_level": null,
                  "extra_data": null,
                  "description": "\u0443\u0434\u0430\u043b\u044f\u0435\u043c \u0430\u0434\u0440\u0435\u0441\u0430",
                  "subgraph_id": null,
                  "template_id": 57,
                  "icon_store_id": null,
                  "is_sequential": false,
                  "on_prebilling": false,
                  "printed_output": {},
                  "run_on_rollback": false,
                  "subgraph_version": "",
                  "template_version": "",
                  "lock_order_on_error": false,
                  "not_damage_on_error": false,
                  "damage_order_on_error": false,
                  "subgraph_version_pattern": "",
                  "template_version_pattern": "",
                  "subgraph_version_calculated": "",
                  "template_version_calculated": "1.0.0"
                },
                "rel_foreign_models": {
                  "template": {
                    "model_name": "Template",
                    "Template": {
                      "run": "ipam:cmd",
                      "input": {
                        "config": {}
                      },
                      "output": {},
                      "timeout": 60,
                      "priority": 0,
                      "rollback": null,
                      "log_level": null,
                      "printed_output": {},
                      "additional_input": true,
                      "additional_output": true,
                      "log_can_be_overridden": false,
                      "priority_can_be_overridden": false,
                      "printed_output_can_be_overridden": false,
                      "id": 57,
                      "current_version": "",
                      "coords_x": 0.0,
                      "coords_y": 0.0,
                      "extra_data": null,
                      "color": "",
                      "name": "delete_ipam",
                      "title": "delete_ipam",
                      "description": "\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u0438\u0437 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 IPAM",
                      "type": "rpc",
                      "allowed_groups": [],
                      "restricted_groups": [],
                      "version_arr": [
                        1,
                        0,
                        1
                      ],
                      "icon_store_id": null,
                      "icon_store": null
                    },
                    "rel_foreign_models": {}
                  }
                }
              },
              {
                "model_name": "Node",
                "Node": {
                  "hold": false,
                  "name": "release_hostname",
                  "color": "",
                  "count": null,
                  "input": {
                    "hostname": "resolved_item['data']['config']['hostname']",
                    "product_type": "product_type"
                  },
                  "number": 60,
                  "output": {},
                  "depends": [
                    "delete_computer_from_ad",
                    "delete_ipam"
                  ],
                  "timeout": 30,
                  "coords_x": 0.0,
                  "coords_y": 0.0,
                  "for_each": "",
                  "priority": null,
                  "condition": "",
                  "log_level": null,
                  "extra_data": null,
                  "description": "\u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0430\u0435\u043c \u0438\u043c\u044f \u0412\u041c",
                  "subgraph_id": null,
                  "template_id": 55,
                  "icon_store_id": null,
                  "is_sequential": false,
                  "on_prebilling": false,
                  "printed_output": {},
                  "run_on_rollback": false,
                  "subgraph_version": "",
                  "template_version": "",
                  "lock_order_on_error": false,
                  "not_damage_on_error": false,
                  "damage_order_on_error": false,
                  "subgraph_version_pattern": "",
                  "template_version_pattern": "",
                  "subgraph_version_calculated": "",
                  "template_version_calculated": "1.0.0"
                },
                "rel_foreign_models": {
                  "template": {
                    "model_name": "Template",
                    "Template": {
                      "id": 55,
                      "run": "hostname.cmd",
                      "name": "delete_name",
                      "type": "rpc",
                      "color": "",
                      "input": {
                        "hostname": {},
                        "cluster_name": {},
                        "product_type": {},
                        "project_name": {}
                      },
                      "title": "delete_name",
                      "output": {},
                      "timeout": 30,
                      "coords_x": 0.0,
                      "coords_y": 0.0,
                      "priority": 0,
                      "rollback": null,
                      "log_level": null,
                      "extra_data": null,
                      "description": "\u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 \u0438\u043c\u0435\u043d",
                      "allowed_groups": [],
                      "printed_output": {},
                      "additional_input": false,
                      "additional_output": false,
                      "restricted_groups": [],
                      "log_can_be_overridden": false,
                      "priority_can_be_overridden": false,
                      "printed_output_can_be_overridden": true,
                      "current_version": "",
                      "version_arr": [
                        1,
                        0,
                        0
                      ],
                      "icon_store_id": null,
                      "icon_store": null
                    },
                    "rel_foreign_models": {}
                  }
                }
              }
            ]
          }
        }
      }
    }
  },
  "dump_version": 5.0,
  "dump_date": "2022-11-07 15:25:13",
  "is_pinned_versions": false
}